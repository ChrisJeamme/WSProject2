<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="../fragments/head.html :: head('Phemp')"></head>
<body class="text-center backgroundDefault">
    <header th:replace="../fragments/header.html :: header('Phemp')"></header>

	<section class="m-5">
        <div class="connectionBox">
		<span sec:authorize="isAuthenticated()" class="navbar-nav">
	        	<p th:if="${error}!=null" th:text="${error}" class="alert alert-danger"></p>
	            <h2>Profil</h2>
	                
                <div class="row">
                    <h5 class="col-sm-2">Username</h5>
                    <span class="col-sm-10" sec:authentication="name"></span>
                </div>
                <div class="row">
                    <h5 class="col-sm-2">FirstName</h5>
                    <span class="col-sm-10" th:text="${user.firstName}"></span>
                </div>
                <div class="row">
                    <h5 class="col-sm-2">LastName</h5>
                    <span class="col-sm-10" th:text="${user.lastName}"></span>
                </div>
                <div class="row">
                    <h5 class="col-sm-2">EMail</h5>
                    <span class="col-sm-10" th:text="${user.email}"></span>
                </div>

				<hr />

                <h3>Password Modification: </h3>
                
                <p th:if="${error}!=null" th:text="${error}" class="alert alert-danger"></p>
                <p th:if="${success}!=null" th:text="${success}" class="alert alert-success"></p>
                
                <form th:action="@{/passwordChanging}" method="post">
                    <div class="form-group row">
                      <label for="inputPassword" class="col-sm-2 col-form-label">New password</label>
                      <div class="col-sm-10">
                        <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="Password" required=""/>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="inputPassword" class="col-sm-2 col-form-label">Repeated New password</label>
                      <div class="col-sm-10">
                        <input type="password" class="form-control" id="repeatNewPassword" name="repeatNewPassword" placeholder="Password" required=""/>
                      </div>
                    </div>

                    <input type="submit" class="btn form-control btn-info" value="Modify"/>
                </form>
            </span>
	</section>

	<script th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
    <script th:src="@{/webjars/chartjs/2.7.3/Chart.min.js}"></script>
    
</body>
</html>